(this.webpackJsonptaboo=this.webpackJsonptaboo||[]).push([[0],{118:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var r,a=n(1),i=n(2),s=n.n(i),o=n(36),u=n.n(o),c=(n(55),n(22)),l=n(13),d=n(47),h=n(26),j=n(24),b=n(8),m=n.n(b),p=n(16),f=n(12),g=n(20),O=n(9),x=n(48),v=n.n(x),w=(n(69),n(3)),y=(n(114),function(){var e=["Quasimodo","Rococo","Pistache","Frimousse","Boubou","Boucle d'Or","Yvon Tremblay","Tim Hagine","Sam Pique","Paul Ution","Pac\xf4me les Autres","Marc des Points","Lara Tatouille","Kelly Diote","Alan Foir\xe9","Alex Tr\xe9mit\xe9","Marie Rouana","Aude Vaisselle","Nordine Ateur","Oussama F\xe9rir","Phil Danstachambre","Edith Orial","Ella de Bonzieux","Eva Pisser","Sarah Croche","Sylvie Bromasseur","Henri Hencor","Jacques C\xe9l\xe8re","Jamal Partout","Jean C\xe9rien"];return e[Math.floor(Math.random()*Math.floor(e.length))]}),C=function(){function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Object(h.a)(this,e),this.ref=t,this.uid=n,this.name=r,this.ready=a,this.team=i}return Object(j.a)(e,[{key:"update",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ref.update(t);case 2:return e.abrupt("return",Object.assign(new this.constructor,Object(l.a)(Object(l.a)({},this),t)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isOnSameTeam",value:function(e){return this.team===e.team}}]),e}();!function(e){e[e.Pending=0]="Pending",e[e.Running=1]="Running",e[e.Review=2]="Review",e[e.Completed=3]="Completed"}(r||(r={}));var R,P=function(){function e(t,n,r,a,i,s){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];Object(h.a)(this,e),this.ref=t,this.uid=n,this.ownerUid=r,this.players=a,this.roundLength=i,this.roundCount=s,this.startedAt=o,this.completedAt=u,this.rounds=c}return Object(j.a)(e,null,[{key:"create",value:function(){var t=Object(p.a)(m.a.mark((function t(n){var r,a,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,4).toLowerCase(),a=c.a.database().ref("games/"+r),i=new e(a,r,n.uid,new Map,20,12),t.next=5,a.set(k.toFirebase(i));case 5:return t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"subscribe",value:function(e,t){var n=c.a.database().ref("games/"+e);return n.on("value",(function(e){var r=e.val();t(r?k.fromFirebase(n,r):null)})),n}}]),Object(j.a)(e,[{key:"update",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ref.update(t);case 2:return e.abrupt("return",Object.assign(new this.constructor,Object(l.a)(Object(l.a)({},this),t)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playerByUid",value:function(e){return this.players.get(e)}},{key:"allPlayers",value:function(){return Array.from(this.players.values())}},{key:"otherPlayers",value:function(e){return this.allPlayers().filter((function(t){return t.uid!==e.uid}))}},{key:"teammatesOf",value:function(e){return this.otherPlayers(e).filter((function(t){return e.isOnSameTeam(t)}))}},{key:"opponentsOf",value:function(e){return this.otherPlayers(e).filter((function(t){return!e.isOnSameTeam(t)}))}},{key:"isOwner",value:function(e){return e.uid===this.ownerUid}},{key:"isStarted",value:function(){return!!this.startedAt}},{key:"addPlayer",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isStarted()){e.next=2;break}throw"this game has already started";case 2:return n=this.ref.child("players/".concat(t.uid)),r=new C(n,t.uid,y(),!1,this.allPlayers().length%2),e.next=6,n.set(B.toFirebase(r));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"newRound",value:function(){var e;if(this.currentRound())e=this.currentRound().ownerUid;else{var t=Array.from(this.players.keys());e=t[Math.floor(Math.random()*Math.floor(t.length))]}var n,a=this.playerByUid(e),i=this.opponentsOf(a),s=this.teammatesOf(a);return n=i.length?i[Math.floor(this.rounds.length/2)%i.length]:s.length?s[Math.floor(this.rounds.length/2)%s.length]:a,new S(this.ref.child("rounds").push(),n.uid,r.Pending)}},{key:"start",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.newRound(),(n={})[t.ref.key]=A.toFirebase(t),e.next=5,this.ref.update({startedAt:Date.now(),rounds:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"continue",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.rounds.length<this.roundCount)){e.next=7;break}return t=this.newRound(),e.next=4,t.ref.set(A.toFirebase(t));case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,this.update({completedAt:Date.now()});case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"currentRound",value:function(){return this.rounds[this.rounds.length-1]}},{key:"words",value:function(){return this.rounds.reduce((function(e,t){return e.concat(t.words,[])}),[])}},{key:"guessedWords",value:function(){return this.words().filter((function(e){return e.guessed})).map((function(e){return e.word}))}},{key:"isCompleted",value:function(){return!!this.completedAt}},{key:"teamScores",value:function(){var e=this;return this.rounds.reduce((function(t,n){return t[e.playerByUid(n.ownerUid).team]+=n.guessedWords().length,t}),[0,0])}},{key:"teamScore",value:function(e){return this.teamScores()[e]}}]),e}(),S=function(){function e(t,n,r,a,i,s){Object(h.a)(this,e),this.ref=t,this.ownerUid=n,this.status=r,this.startedAt=a,this.completedAt=i,this.words=void 0,this.words=s||[]}return Object(j.a)(e,[{key:"isOwner",value:function(e){return e.uid===this.ownerUid}},{key:"isRunning",value:function(){return this.status===r.Running}},{key:"isCompleted",value:function(){return this.status===r.Completed}},{key:"isPending",value:function(){return this.status===r.Pending}},{key:"isReview",value:function(){return this.status===r.Review}},{key:"guessedWords",value:function(){return this.words.filter((function(e){return e.guessed})).map((function(e){return e.word}))}},{key:"update",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ref.update(t);case 2:return e.abrupt("return",Object.assign(new this.constructor,Object(l.a)(Object(l.a)({},this),t)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.update({status:r.Running,startedAt:Date.now()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"review",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.update({status:r.Review});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"complete",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.update({status:r.Completed,completedAt:Date.now(),words:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),k={toFirebase:function(e){return{uid:e.uid,ownerUid:e.ownerUid,startedAt:e.startedAt,completedAt:e.completedAt,roundLength:e.roundLength,roundCount:e.roundCount}},fromFirebase:function(e,t){var n=Object.entries(t.players||{}).map((function(t){var n=Object(f.a)(t,2),r=n[0],a=n[1];return[r,B.fromFirebase(e.child("players/".concat(a.uid)),a)]})),r=Object.entries(t.rounds||{}).map((function(t){var n=Object(f.a)(t,2),r=n[0],a=n[1];return A.fromFirebase(e.child("rounds/".concat(r)),a)}));return new P(e,t.uid,t.ownerUid,new Map(n),t.roundLength,t.roundCount,t.startedAt,t.completedAt,r)}},B={toFirebase:function(e){return{uid:e.uid,name:e.name,ready:e.ready,team:e.team}},fromFirebase:function(e,t){return new C(e,t.uid,t.name,t.ready,t.team)}},A={fromFirebase:function(e,t){return new S(e,t.ownerUid,t.status,t.startedAt,t.completedAt,t.words)},toFirebase:function(e){return{ownerUid:e.ownerUid,status:e.status,startedAt:e.startedAt||null}}},M=new Set(["Abitibi","Acapulco","Ajaccio","Alaska","Allemagne","Alma","Alpes","Amazonie","Amsterdam","Anchorage","Angleterre","Animalerie","Antartique","Anticosti","Arabie Saoudite","Arc de Triomphe","Arcade","Argentine","Arizona","Ar\xe9na","Asbestos","Ath\xe8nes","Austin","Australie","A\xe9roport","Bagdad","Bahamas","Banff","Bangkok","Banque Nationale","Banque Royale","Bar laitier","Bar","Barbade","Barbier","Barcelone","Bateau","Belfast","Berlin","Bethl\xe9em","Biblioth\xe8que","Big Ben","Billard","Biodome","Biosph\xe8re","Bolivie","Bora bora","Boston","Boucherie","Boulangerie","Boulder","Brasserie","Bromont","Bruxelles","Br\xe9sil","Buanderie","Budapest","Buenos Aires","Bureau d'avocat","Bureau de poste","Bureau des passeports","Burj Khalifa","CLSC","Cabane \xe0 Sucre","Cabane \xe0 sucre","Caf\xe9","Caisse populaire","Californie","Cambodge","Camping","Canal Rideau","Canal de Panama","Cancun","Cap Canaveral","Cap-Chat","Carnaval de Qu\xe9bec","Carnaval de Rio","Casino","Cayo Coco","Central Park","Centre Bell","Centre commercial","Centre-Ville","Chalet","Chamonix","Charlevoix","Charlottetown","Chasser","Chateau de Versailles","Chez le docteur","Chibougamau","Chicago","Chich\xe9n Itz\xe1","Chili","Chine","Chiropraticien","Chocolat Favoris","Chocolaterie","Chutes Montmorency","Ch\xe2teau Frontenac","Ch\xe2teau Laurier","Cimeti\xe8re","Cinque Terres","Cin\xe9ma","Cin\xe9parc","Club Med","Colis\xe9e","Colombie Britannique","Colombie","Colorado","Compostelle","Concessionnaire","Copenhague","Cordonnier","Corse","Cor\xe9e du Nord","Costa Rica","Costco","Cours de natation","Couturier","Croisi\xe8re","Cr\xeate","Cuba","Cueillir des pommes","C\xf4te d'Azur","C\xf4te-Nord","Danser","Dentiste","Denver","Desjardins","Discoth\xe8que","Dubai","Dublin","D\xe9panneur","D\xe9sert du Sahara","Edmonton","Empire State Building","Espagne","Esth\xe9ticienne","Estrie","Faire de la motoneige","Faire de la plong\xe9e","Festival de Cannes","Festival des Mongolfi\xe8res","Fleuriste","Florence","Floride","Fontaine de Tr\xe9vi","Frankfurt","Fruiterie","Fr\xe9dericton","Gaps\xe9","Garage","Gasp\xe9sie","Glasgow","Golf","Grand Canyon","Grand Prix","Grande Muraille de Chine","Groenland","Ground Zero","Gr\xe8ce","Gym","Halifax","Hawaii","Helsinki","Himalaya","Hiroshima","Hollande","Hong Kong","Honolulu","Houston","H\xf4pital","H\xf4tel de ville","H\xf4tel","H\xf4tel","Ikea","Insectarium","Iqaluit","Irlande","Islande","Isra\xebl","Istanbul","Italie","Japon","Jardin Botannique","Jeu d'\xe9vasion","Jeux Olympiques","Johannesburg","J\xe9rusalem","Karaok\xe9","Kayak","Kuujjuaq","Kyoto","La Baie","La Grande Roue","La Havane","La Mecque","La Ronde","La Tuque","Lac Louise","Lac M\xe9gantic","Las Vegas","Laurentides","Laval","Laval","Lave auto","Lisbonne","Londres","Los Angeles","Lousiane","Luxembourg","L\xe9vis","Machu Picchu","Madrid","Maison Blanche","Manchester","Manhattan","Manoir Richelieu","March\xe9 Atwater","March\xe9 Jean-Talon","March\xe9 aux puces","Marina","Maroc","Marrakech","Marseilles","Massoth\xe9rapeute","McDonald","Mer Morte","Mer","Mexico","Mexique","Miami","Michigan","Mini Putt","Mississauga","Monaco","Moncton","Mont Orford","Mont Royal","Mont Tremblant","Montagne de ski","Montr\xe9al","Mont\xe9r\xe9gie","Moscou","Mosqu\xe9e","Motel","Mumbai","Mur de Berlin","Muse du Louvres","Mus\xe9e","Mykonos","Nanaimo","Nettoyeur","New Delhi","New York","Niagara Falls","Notaire","Notre-Dame de Paris","Nouvelle-Z\xe9lande","Nunavut","Old Orchard","Optom\xe9triste","Op\xe9ra de Sydney","Op\xe9ra","Oratoire St-Joseph","Orthodontiste","Orthophoniste","Or\xe9gon","Ottawa","Outaouais","Pakistan","Palais de Buckingham","Palestine","Palm Beach","Parc Safari","Parc \xe0 chien","Parc","Paris","Partn\xe9non","Patinoire","Patisserie","Pentagone","Perc\xe9","Pharmacie","Phoenix","Physioth\xe9rapeute","Piscine","Pizz\xe9ria","Place Rouge","Place des Arts","Plage","Plan\xe9tarium","Poissonnerie","Pologne","Pomp\xe9ii","Pont Champlain","Pont Jacques-Cartier","Pont d'Avignon","Pont du Golden Gate","Port-au-Prince","Portugal","Poste de police","Prague","Promener le chien","Provence","Psychiatre","Psychologue","Puerto Plata","Pyramides d'\xc9gypte","P\xe9dalo","P\xe9diatre","P\xe9pini\xe8re","P\xe9rou","P\xeache sur glace","P\xeacher","Quartier Dix30","Quilles","Quincaillerie","Qu\xe9bec","Randonn\xe9e","Raquette","Reparateur de t\xe9l\xe9","Restaurant","Rimouski","Rio de Janeiro","Rivi\xe8re du Loup","Rocher Perc\xe9","Rocheuses","Rome","Russie","R\xe9gina","R\xe9publique Dominicaine","R\xe9publique Tch\xe8que","R\xe9serve faunique","SAAQ","SAQ","Saguenay Lac St-Jean","Saint-P\xe9tersbourg","Salle du Royaume","Salon de bronzage","Salon de coiffure","Salon fun\xe9raire","Salt Lake City","San Francisco","Saskachewan","Sept Iles","Serrurier","Shawinigan","Sherbrooke","Sib\xe9rie","Sicile","Simons","Singapour","Spa","St-Jean","St-Tite","Stampede de Calgary","Starbucks","Station de m\xe9tro","Station service","Statue de la Libert\xe9","Stockholm","Stonehenge","Subway","Suisse","Su\xe8de","Sydney","Synagogue","Tailleur","Taj Mahal","Tampa Bay","Terre-Neuve","Texas","Tha\xeflande","Th\xe9atre","Time Square","Timmins","Tokio","Toronto","Tour Eiffel","Tour de Pise","Tour du CN","Travail","Triangle des Bermudes","Trois Rivi\xe8res","Tunisie","Turquie","Universit\xe9","Urgence","Vancouver","Varsovie","Vatican","Venise","Vermont","Victoria","Vietnam","Vieux Forum","Vieux Port","Vignoble","Virginia Beach","Voyage tout inclus","Voyage","V\xe9n\xe9zuella","V\xe9t\xe9rinaire","Walt Disney World","Washington","Whitehorse","Winnipeg","Yellowknife","Yukon","Zoo de Granby","Zoo","Z\xfcrich","\xc9cosse","\xc9dimbourg","\xc9glise de Scientologie","\xc9glise","\xc9picerie","\xc9pluchette de ma\xefs","\xc9tats-Unis","\xcele d'Orl\xe9ans","\xcele de Gilligan","\xcele du Prince-\xc9douard","\xceles Galapagos","\xceles de la Madeleine"]);!function(e){e[e.PLACES=0]="PLACES"}(R||(R={}));n(118),n(119);var L,F="#d50000",T="#2962ff",q="#2bbbad",I=function(e){var t=e.children;return Object(a.jsx)("h2",{style:{fontWeight:"lighter",color:q},children:t})},N=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I,{children:"Mots Interdits"}),Object(a.jsxs)(w.Section,{children:[Object(a.jsx)(w.Row,{children:Object(a.jsx)(g.b,{to:"/host",className:"waves-effect waves-light btn-large",style:{width:"100%"},children:"Cr\xe9er une partie"})}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(g.b,{to:"/join",className:"waves-effect waves-light btn-large",style:{width:"100%"},children:"Joindre une partie"})})]})]})};!function(e){e[e.Pending=0]="Pending",e[e.Creating=1]="Creating",e[e.Created=2]="Created"}(L||(L={}));var D=function(e){var t=e.user,n=Object(i.useState)(L.Pending),r=Object(f.a)(n,2),s=r[0],o=r[1],u=Object(i.useState)(),c=Object(f.a)(u,2),l=c[0],d=c[1];return Object(i.useEffect)((function(){s===L.Pending&&(o(L.Creating),Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,P.create(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1),o(L.Created);case 6:case"end":return e.stop()}}),e)})))())}),[]),s===L.Created?Object(a.jsx)(O.a,{to:"/game/".concat(l.uid)}):Object(a.jsx)(V,{})},U=function(e){var t=e.children;return Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.Card,{className:"red accent-4",children:Object(a.jsx)("span",{className:"white-text",children:t})})})},E=function(e){e.user;var t=Object(O.g)(),n=Object(O.h)(),r=Object(i.useState)(""),s=Object(f.a)(r,2),o=s[0],u=s[1],c=v.a.parse(n.search).error;return Object(a.jsxs)(a.Fragment,{children:[!!c&&Object(a.jsx)(U,{children:c}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.TextInput,{id:"gameID",onChange:function(e){u(e.target.value)},label:"Identifiant",noLayout:!0})}),Object(a.jsx)(w.Row,{className:"row",children:Object(a.jsx)(w.Button,{large:!0,onClick:function(){t.push("/game/".concat(o))},disabled:0===o.length,children:"Joindre la partie"})}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(g.b,{to:"/home",children:"Retour"})})]})},V=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.Preloader,{active:!0,flashing:!0,size:"big"})})})},W=function(e){var t=e.user,n=e.game,r=n.playerByUid(t.uid);return Object(i.useEffect)((function(){(null===r||void 0===r?void 0:r.uid)===t.uid||n.isStarted()||n.addPlayer(t)}),[t.uid,n,null===r||void 0===r?void 0:r.uid]),r?Object(a.jsx)(G,{user:t,player:r,game:n}):Object(a.jsx)(V,{})},J=function(e){var t=e.players;return 0===t.length?Object(a.jsx)("div",{children:"Oops! Toujours aucun joueur dans cette \xe9quipe. Utilisez Tinder si vous avez besoin d'amis."}):Object(a.jsx)(w.Collection,{className:"left-align",children:t.map((function(e){return Object(a.jsxs)(w.CollectionItem,{children:[e.name," ",e.ready&&Object(a.jsx)(w.Badge,{newIcon:!0,caption:"Pr\xeat!"})]},e.uid)}))})},G=function(e){e.user;var t=e.player,n=e.game,r=n.allPlayers(),i=!n.isOwner(t)||!r.every((function(e){return e.ready}));return Object(a.jsxs)(a.Fragment,{children:[n.isOwner(t)&&Object(a.jsx)(w.Row,{children:Object(a.jsxs)(w.Card,{children:["Invite des gens \xe0 joindre cette partie en leur partageant le code ",Object(a.jsx)("b",{children:n.uid}),"."]})}),Object(a.jsxs)(w.Section,{children:[Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.TextInput,{id:"name",value:t.name,onChange:function(e){t.update({name:e.target.value})},disabled:t.ready,label:"Nom",noLayout:!0})}),Object(a.jsx)(w.Row,{children:Object(a.jsxs)(w.Select,{id:"team",onChange:function(e){t.update({team:parseInt(e.target.value)})},noLayout:!0,value:t.team.toString(),label:"\xc9quipe",disabled:t.ready,children:[Object(a.jsx)("option",{value:"0",children:"\xc9quipe Rouge"}),Object(a.jsx)("option",{value:"1",children:"\xc9quipe Bleue"})]})}),n.isOwner(t)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.Row,{children:Object(a.jsxs)(w.Select,{id:"roundLength",onChange:function(e){n.update({roundLength:parseInt(e.target.value)})},noLayout:!0,value:n.roundLength.toString(),label:"Dur\xe9e d'une manche",disabled:t.ready,children:[Object(a.jsx)("option",{value:"5",children:"5s"}),Object(a.jsx)("option",{value:"20",children:"20s"}),Object(a.jsx)("option",{value:"30",children:"30s"}),Object(a.jsx)("option",{value:"60",children:"60s"})]})}),Object(a.jsx)(w.Row,{children:Object(a.jsxs)(w.Select,{id:"roundCount",onChange:function(e){n.update({roundCount:parseInt(e.target.value)})},noLayout:!0,value:n.roundCount.toString(),label:"Nombre de manches",disabled:t.ready,children:[Object(a.jsx)("option",{value:"1",children:"1"}),Object(a.jsx)("option",{value:"4",children:"4"}),Object(a.jsx)("option",{value:"12",children:"12"}),Object(a.jsx)("option",{value:"20",children:"20"})]})})]}),Object(a.jsxs)(w.Row,{children:[Object(a.jsx)("h5",{style:{fontWeight:"lighter",color:F,textAlign:"left"},children:"\xc9quipe Rouge"}),Object(a.jsx)(J,{players:r.filter((function(e){return 0===e.team}))})]}),Object(a.jsxs)(w.Row,{children:[Object(a.jsx)("h5",{style:{fontWeight:"lighter",color:T,textAlign:"left"},children:"\xc9quipe Bleue"}),Object(a.jsx)(J,{players:r.filter((function(e){return 1===e.team}))})]}),Object(a.jsxs)(w.Row,{children:[Object(a.jsx)(w.Button,{large:!0,onClick:function(){t.update({ready:!t.ready})},disabled:0===t.name.length,children:t.ready?"Pas pr\xeat!":"Pr\xeat!"}),Object(a.jsx)(w.Button,{large:!0,onClick:function(){n.start()},disabled:i,style:{marginLeft:"10px"},children:"D\xe9buter!"})]}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(g.b,{to:"/home",children:"Retour"})})]})]})},z=function(e){var t=e.player,n=e.game,r=e.round,s=Object(i.useState)(1e3*n.roundLength),o=Object(f.a)(s,2),u=o[0],c=o[1];Object(i.useEffect)((function(){var e=setInterval((function(){var t=r.startedAt+1e3*n.roundLength-Date.now();c(t),t<=0&&clearInterval(e)}),50);return function(){clearInterval(e)}}),[r.startedAt,n.roundLength]),Object(i.useEffect)((function(){u<=0&&r.review()}),[u]);var l,d=Math.floor(u/1e3),h=n.playerByUid(r.ownerUid),j=n.teamScores();return l=r.isOwner(t)?Object(a.jsx)(Z,{game:n,round:r,timeRemaining:d}):t.isOnSameTeam(h)?Object(a.jsx)(Q,{roundOwner:h,game:n,round:r,timeRemaining:d}):Object(a.jsx)(K,{roundOwner:h,game:n,round:r,timeRemaining:d}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.Row,{children:Object(a.jsxs)("h6",{children:[Object(a.jsx)("div",{style:{color:0===h.team?F:T},className:"left left-align",children:h.name}),Object(a.jsxs)("div",{className:"right",children:[Object(a.jsx)(w.Badge,{newIcon:!0,caption:j[1].toString(),className:"blue white-text"}),Object(a.jsx)(w.Badge,{newIcon:!0,caption:j[0].toString(),className:"red white-text"})]})]})}),Object(a.jsx)(w.Divider,{}),Object(a.jsx)(w.Section,{children:l})]})},H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(h.a)(this,e),this.attemptedWords=t}return Object(j.a)(e,[{key:"guessed",value:function(t){return new e(this.attemptedWords.concat({word:t,guessed:!0}))}},{key:"skipped",value:function(t){return new e(this.attemptedWords.concat({word:t,guessed:!1}))}}]),e}(),Q=function(e){var t=e.roundOwner,n=e.game,r=e.round,i=e.timeRemaining;return r.isPending()?Object(a.jsxs)(w.Row,{children:["C'est \xe0 ton \xe9quipe de jouer! ",Object(a.jsx)("b",{children:t.name})," a ",Object(a.jsxs)("b",{children:[n.roundLength," secondes"]})," pour vous faire deviner un maximum de mots. Bonne chance!"]}):r.isRunning()?Object(a.jsx)(w.Row,{children:Object(a.jsx)($,{timeRemaining:i,totalTime:n.roundLength})}):Object(a.jsxs)(w.Row,{children:["Beau travail! Ou pas. J'en sais rien. ",Object(a.jsx)("b",{children:t.name})," est en train de valider les r\xe9sultats, apr\xe8s quoi c'est au tour de l'\xe9quipe adverse. Dites-lui de se d\xe9p\xeacher."]})},K=function(e){var t=e.roundOwner,n=e.game,r=e.round,i=e.timeRemaining;if(r.isPending()){var s=[" C'est le temps de faire une pause pipi."," C'est le temps de te servir un verre."," Si t'as du lavage \xe0 faire, c'est le temps."," Tournes-toi les pouces."," Sois pr\xeat pour la prochaine manche!"," D'ici l\xe0, t'as rien \xe0 faire."];return Object(a.jsxs)(w.Row,{children:["C'est \xe0 l'autre \xe9quipe de jouer. Ils ont ",Object(a.jsxs)("b",{children:[n.roundLength," secondes"]})," pour faire deviner un maximum de mots.",s[Math.floor(Math.random()*Math.floor(s.length))]]})}return r.isRunning()?Object(a.jsx)(w.Row,{children:Object(a.jsx)($,{timeRemaining:i,totalTime:n.roundLength})}):Object(a.jsxs)(w.Row,{children:["Termin\xe9! ",Object(a.jsx)("b",{children:t.name})," est en train de valider les r\xe9sultats de leur \xe9quipe, apr\xe8s quoi c'est votre tour!"]})},Z=function(e){var t=e.game,n=e.round,r=e.timeRemaining,s=Object(i.useState)(new H),o=Object(f.a)(s,2),u=o[0],c=o[1];return n.isReview()?Object(a.jsx)(Y,{game:t,round:n,attemptedWords:u.attemptedWords}):n.isRunning()?Object(a.jsx)(_,{game:t,round:n,roundProgress:u,setRoundProgress:c,timeRemaining:r}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(w.Row,{children:["C'est \xe0 ton tour. Tu as ",Object(a.jsxs)("b",{children:[t.roundLength," secondes"]})," pour faire deviner un maximum de mots \xe0 ton \xe9quipe. Bonne chance!"]}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.Button,{large:!0,onClick:function(){n.start()},children:"D\xe9buter!"})})]})},Y=function(e){var t,n=e.game,r=e.round,s=e.attemptedWords,o=Object(i.useState)(s),u=Object(f.a)(o,2),c=u[0],l=u[1],d=c.filter((function(e){return e.guessed})).length;return t=0===d?Object(a.jsx)(a.Fragment,{children:"Isssshhh. Tu n'as trouv\xe9 aucun mot. Certains diront que les mots \xe9taient trop difficiles... Entoucas."}):1===d?Object(a.jsx)(a.Fragment,{children:"Ouin. Un. Un seul mot. Bravo champion! Si jamais en plus tu t'es tromp\xe9, tu peux modifier le r\xe9sultat en cliquant dessus."}):Object(a.jsxs)(a.Fragment,{children:["Bravo champion! Tu as trouv\xe9 ",Object(a.jsx)("b",{children:d})," mots! Si jamais tu t'es tromp\xe9, tu peux modifier un r\xe9sultat en cliquant sur le mot probl\xe9matique."]}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.Row,{children:t}),!!c.length&&Object(a.jsx)(w.Row,{children:Object(a.jsx)(X,{words:c,onClick:function(e){l(c.map((function(t){return t.word===e.word?{word:t.word,guessed:!e.guessed}:t})))}})}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.Button,{large:!0,onClick:function(){r.complete(c),n.continue()},children:"Continuer"})})]})},X=function(e){var t=e.words,n=e.onClick;return Object(a.jsx)(w.Collection,{className:"left-align",children:t.map((function(e){return Object(a.jsx)("div",{style:{userSelect:"none",textDecorationLine:e.guessed?"inherit":"line-through"},className:"collection-item",onClick:function(){n&&n(e)},children:e.word},e.word)}))})},$=function(e){var t=e.timeRemaining,n=e.totalTime;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h6",{children:Object(a.jsxs)("b",{children:[t," seconde",t>1?"s":""]})}),Object(a.jsx)(w.ProgressBar,{progress:Math.ceil((n-t)/n*100)})]})},_=function(e){var t=e.game,n=(e.round,e.roundProgress),r=e.timeRemaining,s=e.setRoundProgress,o=function(e){return function(e,t){var n,r=new Set(e),a=Object(d.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;r.delete(i)}}catch(o){a.e(o)}finally{a.f()}var s=Array.from(r);return s[Math.floor(Math.random()*Math.floor(s.length))]}(function(e){switch(e){case R.PLACES:case null:return M}}(R.PLACES),new Set(t.guessedWords().concat(e.attemptedWords.map((function(e){return e.word})))))},u=Object(i.useState)(o(n)),c=Object(f.a)(u,2),l=c[0],h=c[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.Row,{children:Object(a.jsx)($,{totalTime:t.roundLength,timeRemaining:r})}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.Card,{children:Object(a.jsx)("h4",{style:{padding:0,margin:0},children:l})})}),Object(a.jsxs)(w.Row,{children:[Object(a.jsx)(w.Button,{large:!0,onClick:function(){var e=n.guessed(l);s(e),h(o(e))},children:"R\xe9ussi!"}),Object(a.jsx)(w.Button,{large:!0,onClick:function(){var e=n.skipped(l);s(e),h(o(e))},style:{marginLeft:"10px"},className:"red",children:"Rejeter"})]})]})},ee=function(e){var t=e.user,n=Object(O.i)().gameID,r=Object(i.useState)(null),s=Object(f.a)(r,2),o=s[0],u=s[1],c=Object(i.useState)(""),l=Object(f.a)(c,2),d=l[0],h=l[1];if(Object(i.useEffect)((function(){var e=P.subscribe(n.toLowerCase(),(function(e){e?u(e):h("Cette partie n'est plus disponible")}));return function(){e.off()}}),[n]),d)return Object(a.jsx)(O.a,{to:"/join?error=".concat(d)});if(o){if(o.isCompleted())return Object(a.jsx)(te,{game:o,user:t});if(o.isStarted()){var j=o.playerByUid(t.uid);return j?Object(a.jsx)(z,{round:o.currentRound(),player:j,game:o}):Object(a.jsx)(ne,{})}return Object(a.jsx)(W,{user:t,game:o})}return Object(a.jsx)(V,{})},te=function(e){var t,n=e.game,r=e.user,i=n.playerByUid(r.uid),s=n.teamScores(),o=0===i.team?1:0;return t=s[i.team]>s[o]?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"\ud83c\udf89"}),Object(a.jsx)(w.Row,{children:"F\xe9licitations! Quelle incroyable victoire! Qui aurait pu pr\xe9dire un tel r\xe9sultat?"})]}):s[i.team]<s[o]?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"\ud83d\ude22"}),Object(a.jsx)(w.Row,{children:"Booh! Vous avez perdu. Entre toi et moi, je crois qu'ils ont trich\xe9!"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"\ud83d\ude32"}),Object(a.jsx)(w.Row,{children:"Whoa, c'est l'\xe9galit\xe9!"})]}),Object(a.jsxs)(a.Fragment,{children:[t,Object(a.jsxs)(w.Row,{style:{paddingBottom:"10px"},children:[Object(a.jsx)(w.Col,{s:6,children:Object(a.jsx)("h1",{className:"red white-text",style:{padding:0,margin:0,borderRadius:"10px"},children:s[0]})}),Object(a.jsx)(w.Col,{s:6,children:Object(a.jsx)("h1",{className:"blue white-text",style:{padding:0,margin:0,borderRadius:"10px"},children:s[1]})})]}),n.rounds.map((function(e,t){var r=n.playerByUid(e.ownerUid);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.Row,{children:Object(a.jsxs)("h6",{children:[Object(a.jsx)("div",{style:{color:0===r.team?F:T},className:"left left-align",children:r.name}),Object(a.jsx)("div",{className:"right",children:Object(a.jsx)(w.Badge,{newIcon:!0,caption:"".concat(e.guessedWords().length,"/").concat(e.words.length),className:0===r.team?"red white-text":"blue white-text"})})]})}),Object(a.jsx)(w.Row,{children:0===e.words.length?"Aucun mot. Rien. Niet. Nada.":Object(a.jsx)(X,{words:e.words})})]})})),Object(a.jsx)(w.Row,{children:Object(a.jsx)(g.b,{to:"/home",children:"Accueil"})})]})},ne=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"\u26a0\ufe0f"}),Object(a.jsx)(w.Row,{children:"D\xe9sol\xe9, tes amis de t'on pas attendu, la partie est d\xe9j\xe0 en cours."}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(g.b,{to:"/home",children:"Retour"})})]})},re=function(){var e=Object(i.useState)(null),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){c.a.auth().signInAnonymously().then((function(e){return r(e.user)}))}),[]),n?Object(a.jsx)(g.a,{children:Object(a.jsxs)(O.d,{children:[Object(a.jsx)(O.b,{path:"/join",render:function(e){return Object(a.jsx)(E,Object(l.a)(Object(l.a)({},e),{},{user:n}))}}),Object(a.jsx)(O.b,{path:"/host",render:function(e){return Object(a.jsx)(D,Object(l.a)(Object(l.a)({},e),{},{user:n}))}}),Object(a.jsx)(O.b,{path:"/game/:gameID",render:function(e){return Object(a.jsx)(ee,Object(l.a)(Object(l.a)({},e),{},{user:n}))}}),Object(a.jsx)(O.b,{path:"/",component:N})]})}):Object(a.jsx)(V,{})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,123)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))};c.a.initializeApp({apiKey:"AIzaSyBElBT0EATGzckFNUZ69M-CKcIq0VynO08",authDomain:"justone-7ffe6.firebaseapp.com",projectId:"justone-7ffe6",storageBucket:"justone-7ffe6.appspot.com",databaseURL:"https://justone-7ffe6-default-rtdb.firebaseio.com/",messagingSenderId:"107210378075",appId:"1:107210378075:web:5ad604222f2ad1d8a2687e"}),u.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(re,{})}),document.getElementById("app")),ae()},55:function(e,t,n){}},[[122,1,2]]]);
//# sourceMappingURL=main.59138a4d.chunk.js.map