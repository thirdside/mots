(this.webpackJsonptaboo=this.webpackJsonptaboo||[]).push([[0],{118:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var r,a=n(1),i=n(2),s=n.n(i),u=n(36),o=n.n(u),c=(n(55),n(21)),d=n(12),l=n(47),h=n(26),j=n(23),b=n(8),f=n.n(b),m=n(15),p=n(16),g=n(25),O=n(9),v=n(48),x=n.n(v),w=(n(69),n(5)),y=(n(114),function(){var e=["Quasimodo","Rococo","Pistache","Frimousse","Boubou","Boucle d'Or","Yvon Tremblay","Tim Hagine","Sam Pique","Paul Ution","Pac\xf4me les Autres","Marc des Points","Lara Tatouille","Kelly Diote"];return e[Math.floor(Math.random()*Math.floor(e.length))]}),R=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y(),a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Object(h.a)(this,e),this.ref=t,this.uid=n,this.name=r,this.ready=a,this.team=i}return Object(j.a)(e,[{key:"update",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ref.update(t);case 2:return e.abrupt("return",Object.assign(new this.constructor,Object(d.a)(Object(d.a)({},this),t)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isOnSameTeam",value:function(e){return this.team===e.team}}]),e}(),C=function(){function e(t,n,r,a,i,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];Object(h.a)(this,e),this.ref=t,this.uid=n,this.ownerUid=r,this.players=a,this.roundLength=i,this.roundCount=s,this.startedAt=u,this.completedAt=o,this.rounds=c}return Object(j.a)(e,null,[{key:"create",value:function(){var t=Object(m.a)(f.a.mark((function t(n){var r,a,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,4),a=c.a.database().ref("games/"+r),i=new e(a,r,n.uid,new Map,60,12),t.next=5,a.set(S.toFirebase(i));case 5:return t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"subscribe",value:function(e,t){var n=c.a.database().ref("games/"+e);return n.on("value",(function(e){var r=e.val();t(r?S.fromFirebase(n,r):null)})),n}}]),Object(j.a)(e,[{key:"update",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ref.update(t);case 2:return e.abrupt("return",Object.assign(new this.constructor,Object(d.a)(Object(d.a)({},this),t)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playerByUid",value:function(e){return this.players.get(e)}},{key:"allPlayers",value:function(){return Array.from(this.players.values())}},{key:"otherPlayers",value:function(e){return this.allPlayers().filter((function(t){return t.uid!==e.uid}))}},{key:"teammatesOf",value:function(e){return this.otherPlayers(e).filter((function(t){return e.isOnSameTeam(t)}))}},{key:"opponentsOf",value:function(e){return this.otherPlayers(e).filter((function(t){return!e.isOnSameTeam(t)}))}},{key:"isOwner",value:function(e){return e.uid===this.ownerUid}},{key:"isStarted",value:function(){return!!this.startedAt}},{key:"addPlayer",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isStarted()){e.next=2;break}throw"this game has already started";case 2:return n=this.ref.child("players/".concat(t.uid)),r=new R(n,t.uid),e.next=6,n.set(A.toFirebase(r));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"newRound",value:function(){var e;if(this.currentRound())e=this.currentRound().ownerUid;else{var t=Array.from(this.players.keys());e=t[Math.floor(Math.random()*Math.floor(t.length))]}var n,a=this.playerByUid(e),i=this.opponentsOf(a);n=0===i.length?a:i[Math.floor(this.rounds.length/2)%i.length];var s=this.ref.child("rounds").push();return new P(s,n.uid,r.Pending)}},{key:"start",value:function(){var e=Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.newRound(),(n={})[t.ref.key]=B.toFirebase(t),e.next=5,this.ref.update({startedAt:Date.now(),rounds:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"continue",value:function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.rounds.length<this.roundCount)){e.next=7;break}return t=this.newRound(),e.next=4,t.ref.set(B.toFirebase(t));case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,this.update({completedAt:Date.now()});case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"currentRound",value:function(){return this.rounds[this.rounds.length-1]}},{key:"guessedWords",value:function(){return this.rounds.reduce((function(e,t){return e.concat(t.guessedWords)}),[])}},{key:"isCompleted",value:function(){return!!this.completedAt}}]),e}();!function(e){e[e.Pending=0]="Pending",e[e.Running=1]="Running",e[e.Review=2]="Review",e[e.Completed=3]="Completed"}(r||(r={}));var k,P=function(){function e(t,n,r,a,i,s){Object(h.a)(this,e),this.ref=t,this.ownerUid=n,this.status=r,this.startedAt=a,this.completedAt=i,this.guessedWords=void 0,this.guessedWords=s||[]}return Object(j.a)(e,[{key:"isOwner",value:function(e){return e.uid===this.ownerUid}},{key:"isRunning",value:function(){return this.status===r.Running}},{key:"isCompleted",value:function(){return this.status===r.Completed}},{key:"isPending",value:function(){return this.status===r.Pending}},{key:"isReview",value:function(){return this.status===r.Review}},{key:"update",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ref.update(t);case 2:return e.abrupt("return",Object.assign(new this.constructor,Object(d.a)(Object(d.a)({},this),t)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.update({status:r.Running,startedAt:Date.now()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"review",value:function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.update({status:r.Review});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"complete",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.update({status:r.Completed,completedAt:Date.now(),guessedWords:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),S={toFirebase:function(e){return{uid:e.uid,ownerUid:e.ownerUid,startedAt:e.startedAt,completedAt:e.completedAt,roundLength:e.roundLength,roundCount:e.roundCount}},fromFirebase:function(e,t){var n=Object.entries(t.players||{}).map((function(t){var n=Object(p.a)(t,2),r=n[0],a=n[1];return[r,A.fromFirebase(e.child("players/".concat(a.uid)),a)]})),r=Object.entries(t.rounds||{}).map((function(t){var n=Object(p.a)(t,2),r=n[0],a=n[1];return B.fromFirebase(e.child("rounds/".concat(r)),a)}));return new C(e,t.uid,t.ownerUid,new Map(n),t.roundLength,t.roundCount,t.startedAt,t.completedAt,r)}},A={toFirebase:function(e){return{uid:e.uid,name:e.name,ready:e.ready,team:e.team}},fromFirebase:function(e,t){return new R(e,t.uid,t.name,t.ready,t.team)}},B={fromFirebase:function(e,t){return new P(e,t.ownerUid,t.status,t.startedAt)},toFirebase:function(e){return{ownerUid:e.ownerUid,status:e.status,startedAt:e.startedAt||null}}},M=new Set(["Ajaccio","Alaska","Alma","Amsterdam","Anchorage","Angleterre","Animalerie","Anticosti","Arabie Saoudite","Arc de Triomphe","Arcade","Argentine","Ar\xe9na","Asbestos","Ath\xe8nes","Austin","Bagdad","Banff","Bar","Barcelone","Belfast","Berlin","Bethl\xe9em","Biblioth\xe8que","Big Ben","Biodome","Biosph\xe8re","Boston","Bromont","Bruxelles","Br\xe9sil","Budapest","Buenos Aires","Burj Khalifa","Cabane \xe0 Sucre","Caf\xe9","Californie","Cambodge","Camping","Canal Rideau","Cancun","Cap-Chat","Casino","Central Park","Centre commercial","Chalet","Charlottetown","Chibougamau","Chicago","Chich\xe9n Itz\xe1","Chili","Chutes Montmorency","Cinque Terres","Cin\xe9ma","Cin\xe9parc","Colis\xe9e","Colorado","Copenhague ","Corse","Cuba","Discoth\xe8que","Dubai","Dublin","D\xe9panneur","Edmonton","Empire State Building","Espagne","Fleuriste","Floride","Fontaine de Tr\xe9vi","Frankfurt","Fr\xe9dericton","Gaps\xe9","Glasgow","Grand Canyon","Grande Muraille de Chine","Groenland","Ground Zero","Gr\xe8ce","Halifax","Hawaii","Helsinki","Hiroshima","Hong Kong","Honolulu","Houston","H\xf4pital","H\xf4tel","H\xf4tel de ville","Iqaluit ","Irlande","Islande","Isra\xebl","Istanbul","Italie","Jeu d'\xe9vasion","Johannesburg","J\xe9rusalem","La Havane","La Mecque","La Ronde","La Tuque","Lac M\xe9gantic","Las Vegas","Laval","Lisbonne","Londres","Los Angeles","Luxembourg","L\xe9vis","Machu Picchu","Madrid","Manchester","Maroc","Marrakech","Marseilles","Mexico","Mexique","Miami","Michigan","Mississauga","Monaco","Moncton","Mont Tremblant","Montagne de ski","Montr\xe9al","Montr\xe9al","Moscou","Mumbai","Mur de Berlin","Mus\xe9e du Louvres","Mus\xe9e","Nanaimo","New Delhi","New York","Niagara Falls","Notre-Dame de Paris","Nouvelle-Z\xe9lande","Op\xe9ra de Sydney","Or\xe9gon","Ottawa","Pakistan","Palestine","Parc","Parc \xe0 chien","Paris","Partn\xe9non","Perc\xe9","Phoenix","Place Rouge","Plage","Pologne","Pomp\xe9ii","Pont du Golden Gate","Port-au-Prince","Portugal","Prague","Puerto Plata","Pyramides d'\xc9gypte","P\xe9rou","Qu\xe9bec","Restaurant","Rimouski","Rio de Janeiro","Rivi\xe8re du Loup","Rocher Perc\xe9","Rome","Russie","R\xe9gina","R\xe9publique Dominicaine","R\xe9publique Tch\xe8que","R\xe9serve faunique","Saint-P\xe9tersbourg","Salon de coiffure","San Francisco","SAQ","Sept Iles","Shawinigan","Sherbrooke","Sib\xe9rie","Singapour","St-Jean","Station de m\xe9tro","Statue de la Libert\xe9","Stockholm","Stonehenge","Suisse","Sydney","Taj Mahal","Tampa Bay","Texas","Time Square","Timmins","Tokio","Toronto","Tour de Pise","Tour du CN","Tour Eiffel","Travail","Trois Rivi\xe8res","Turquie","Universit\xe9","Vancouver","Varsovie","Vatican","Venise","Vermont","Victoria","Vietnam","Walt Disney World","Washington","Whitehorse","Winnipeg","Yellowknife","Zoo","Z\xfcrich","\xc9cosse","\xc9dimbourg","\xc9picerie","\xcele d'Orl\xe9ans"]);!function(e){e[e.PLACES=0]="PLACES"}(k||(k={}));var L,T=function(e){switch(e){case k.PLACES:case null:return M}},F=(n(118),n(119),"#d50000"),I="#2962ff",U="#2bbbad",N=function(e){var t=e.children;return Object(a.jsx)("h2",{style:{fontWeight:"lighter",color:U},children:t})},q=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{children:"Mots Interdits"}),Object(a.jsxs)(w.Section,{children:[Object(a.jsx)(w.Row,{children:Object(a.jsx)(g.b,{to:"/host",className:"waves-effect waves-light btn",style:{width:"100%"},children:"Cr\xe9er une partie"})}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(g.b,{to:"/join",className:"waves-effect waves-light btn",style:{width:"100%"},children:"Joindre une partie"})})]})]})};!function(e){e[e.Pending=0]="Pending",e[e.Creating=1]="Creating",e[e.Created=2]="Created"}(L||(L={}));var D=function(e){var t=e.user,n=Object(i.useState)(L.Pending),r=Object(p.a)(n,2),s=r[0],u=r[1],o=Object(i.useState)(),c=Object(p.a)(o,2),d=c[0],l=c[1];return Object(i.useEffect)((function(){s===L.Pending&&(u(L.Creating),Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,C.create(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1),u(L.Created);case 6:case"end":return e.stop()}}),e)})))())}),[]),s===L.Created?Object(a.jsx)(O.a,{to:"/game/".concat(d.uid)}):Object(a.jsx)(H,{})},W=function(e){var t=e.children;return Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.CardPanel,{className:"red accent-4",children:Object(a.jsx)("span",{className:"white-text",children:t})})})},E=function(e){e.user;var t=Object(O.g)(),n=Object(O.h)(),r=Object(i.useState)(""),s=Object(p.a)(r,2),u=s[0],o=s[1],c=x.a.parse(n.search).error;return Object(a.jsxs)(a.Fragment,{children:[!!c&&Object(a.jsx)(W,{children:c}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.TextInput,{id:"gameID",onChange:function(e){o(e.target.value)},label:"Identifiant",noLayout:!0})}),Object(a.jsx)(w.Row,{className:"row",children:Object(a.jsx)(w.Button,{onClick:function(){t.push("/game/".concat(u))},disabled:0===u.length,children:"Joindre la partie"})}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(g.b,{to:"/home",children:"Retour"})})]})},H=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.Preloader,{active:!0,flashing:!0,size:"big"})})})},G=function(e){var t=e.user,n=e.game,r=n.playerByUid(t.uid);return Object(i.useEffect)((function(){(null===r||void 0===r?void 0:r.uid)===t.uid||n.isStarted()||n.addPlayer(t)}),[t.uid,n,null===r||void 0===r?void 0:r.uid]),r?Object(a.jsx)(V,{user:t,player:r,game:n}):Object(a.jsx)(H,{})},J=function(e){var t=e.players;return 0===t.length?Object(a.jsx)("div",{children:"Oops! Toujours aucun joueur dans cette \xe9quipe. Utilisez Tinder si vous avez besoin d'amis."}):Object(a.jsx)("div",{className:"collection left-align",children:t.map((function(e){return Object(a.jsxs)("div",{className:"collection-item",children:[e.name," ",e.ready&&Object(a.jsx)("span",{"data-badge-caption":"Pr\xeat!",className:"new badge"})]},e.uid)}))})},V=function(e){e.user;var t=e.player,n=e.game,r=n.allPlayers(),i=!n.isOwner(t)||!r.every((function(e){return e.ready}));return Object(a.jsxs)(a.Fragment,{children:[n.isOwner(t)&&Object(a.jsx)(w.Row,{children:Object(a.jsxs)(w.Card,{children:["Invite des gens \xe0 joindre cette partie en leur partageant le code ",Object(a.jsx)("b",{children:n.uid}),"."]})}),Object(a.jsxs)(w.Section,{children:[Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.TextInput,{id:"name",value:t.name,onChange:function(e){t.update({name:e.target.value})},disabled:t.ready,label:"Nom",noLayout:!0})}),Object(a.jsx)(w.Row,{children:Object(a.jsxs)(w.Select,{id:"team",onChange:function(e){t.update({team:parseInt(e.target.value)})},noLayout:!0,value:"".concat(t.team),label:"\xc9quipe",disabled:t.ready,children:[Object(a.jsx)("option",{value:"0",children:"\xc9quipe Rouge"}),Object(a.jsx)("option",{value:"1",children:"\xc9quipe Bleue"})]})}),n.isOwner(t)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.Row,{children:Object(a.jsxs)(w.Select,{id:"roundLength",onChange:function(e){n.update({roundLength:parseInt(e.target.value)})},noLayout:!0,value:n.roundLength.toString(),label:"Dur\xe9e d'une manche",disabled:t.ready,children:[Object(a.jsx)("option",{value:"5",children:"5s"}),Object(a.jsx)("option",{value:"60",children:"60s"}),Object(a.jsx)("option",{value:"90",children:"90s"}),Object(a.jsx)("option",{value:"120",children:"120s"})]})}),Object(a.jsx)(w.Row,{children:Object(a.jsxs)(w.Select,{id:"roundCount",onChange:function(e){n.update({roundCount:parseInt(e.target.value)})},noLayout:!0,value:n.roundCount.toString(),label:"Nombre de manches",disabled:t.ready,children:[Object(a.jsx)("option",{value:"1",children:"1"}),Object(a.jsx)("option",{value:"4",children:"4"}),Object(a.jsx)("option",{value:"12",children:"12"}),Object(a.jsx)("option",{value:"20",children:"20"})]})})]}),Object(a.jsxs)(w.Row,{children:[Object(a.jsx)("h5",{style:{fontWeight:"lighter",color:F,textAlign:"left"},children:"\xc9quipe Rouge"}),Object(a.jsx)(J,{players:r.filter((function(e){return 0===e.team}))})]}),Object(a.jsxs)(w.Row,{children:[Object(a.jsx)("h5",{style:{fontWeight:"lighter",color:I,textAlign:"left"},children:"\xc9quipe Bleue"}),Object(a.jsx)(J,{players:r.filter((function(e){return 1===e.team}))})]}),Object(a.jsxs)(w.Row,{children:[Object(a.jsx)(w.Button,{onClick:function(){t.update({ready:!t.ready})},disabled:0===t.name.length,children:t.ready?"Pas pr\xeat!":"Pr\xeat!"}),Object(a.jsx)(w.Button,{onClick:function(){n.start()},disabled:i,style:{marginLeft:"10px"},children:"D\xe9buter!"})]}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(g.b,{to:"/home",children:"Retour"})})]})]})},z=function(e){var t=e.player,n=e.game,r=e.round,s=Object(i.useState)(1e3*n.roundLength),u=Object(p.a)(s,2),o=u[0],c=u[1];Object(i.useEffect)((function(){var e=setInterval((function(){var t=r.startedAt+1e3*n.roundLength-Date.now();c(t),t<=0&&clearInterval(e)}),50);return function(){clearInterval(e)}}),[r.startedAt,n.roundLength]),Object(i.useEffect)((function(){o<=0&&r.review()}),[o]);var d,l=Math.floor(o/1e3),h=n.playerByUid(r.ownerUid).team;return d=r.isOwner(t)?Object(a.jsx)(Y,{player:t,game:n,round:r,timeRemaining:l}):n.playerByUid(r.ownerUid).isOnSameTeam(t)?Object(a.jsx)(Z,{player:t,game:n,round:r,timeRemaining:l}):Object(a.jsx)(Q,{player:t,game:n,round:r,timeRemaining:l}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h6",{style:{color:0===h?F:I},className:"left-align",children:["\xc9quipe ",0===h?"Rouge":"Bleue"]}),Object(a.jsx)(w.Divider,{}),Object(a.jsx)(w.Section,{children:d})]})},K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(h.a)(this,e),this.attemptedWords=t}return Object(j.a)(e,[{key:"guessed",value:function(t){return new e(this.attemptedWords.concat({word:t,guessed:!0}))}},{key:"skipped",value:function(t){return new e(this.attemptedWords.concat({word:t,guessed:!1}))}}]),e}(),Z=function(e){e.player;var t=e.game,n=e.round,r=e.timeRemaining;return n.isPending()?Object(a.jsxs)(w.Row,{children:["C'est \xe0 ton \xe9quipe de jouer! ",t.playerByUid(n.ownerUid).name," va tenter de vous faire deviner un maximum de mots en ",t.roundLength," secondes. Bonne chance!"]}):n.isRunning()?Object(a.jsx)(_,{timeRemaining:r,totalTime:t.roundLength}):n.isReview()?Object(a.jsxs)(w.Row,{children:["Beau travail! Ou pas. J'en sais rien. ",t.playerByUid(n.ownerUid).name," est en train de valider les r\xe9sultats, apr\xe8s quoi c'est au tour de l'\xe9quipe adverse. Dites-lui de se d\xe9p\xeacher."]}):Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("h5",{children:"Oops! Cette manche est termin\xe9e."})})},Q=function(e){e.player;var t=e.game,n=e.round,r=e.timeRemaining;if(n.isPending()){var i=[" C'est le temps de faire une pause pipi."," C'est le temps de te servir un verre."," Si t'as du lavage \xe0 faire, c'est le temps."," Tournes-toi les pouces."," Sois pr\xeat pour la prochaine manche!"," D'ici l\xe0, t'as rien \xe0 faire."];return Object(a.jsxs)("div",{className:"row",children:["C'est \xe0 l'autre \xe9quipe de jouer. Ils vont tenter de deviner un maximum de mots en ",t.roundLength," secondes.",i[Math.floor(Math.random()*Math.floor(i.length))]]})}return n.isRunning()?Object(a.jsx)(_,{totalTime:t.roundLength,timeRemaining:r}):n.isReview()?Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("h5",{children:["Termin\xe9! ",t.playerByUid(n.ownerUid).name," est en train de valider les r\xe9sultats de leur \xe9quipe, apr\xe8s quoi c'est votre tour!"]})}):Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("h5",{children:"Oops! Cette manche est termin\xe9e."})})},Y=function(e){var t=e.player,n=e.game,r=e.round,s=e.timeRemaining,u=Object(i.useState)(new K),o=Object(p.a)(u,2),c=o[0],d=o[1];return r.isReview()?Object(a.jsx)(X,{game:n,round:r,words:c.attemptedWords}):r.isRunning()?Object(a.jsx)(ee,{game:n,round:r,roundProgress:c,setRoundProgress:d,timeRemaining:s}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(w.Row,{children:["C'est \xe0 ton tour. Tu as ",n.roundLength," secondes pour faire deviner un maximum de mots \xe0 ",n.teammatesOf(t).map((function(e){return e.name})).join(", "),"."]}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.Button,{onClick:function(){r.start()},children:"D\xe9buter!"})})]})},X=function(e){var t=e.game,n=e.round,r=e.words,i=r.filter((function(e){return e.guessed}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(w.Row,{children:["Bravo champion! Tu as trouv\xe9 ",i.length," mots!"]}),!!i.length&&Object(a.jsx)("div",{className:"collection left-align hoverable",children:r.map((function(e){return Object(a.jsxs)("div",{className:"collection-item",children:[e.word,e.guessed?Object(a.jsx)("span",{"data-badge-caption":"R\xe9ussi",className:"new badge"}):Object(a.jsx)("span",{"data-badge-caption":"Rejet\xe9",className:"red new badge"})]},e.word)}))}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.Button,{onClick:function(){n.complete(i.map((function(e){return e.word}))),t.continue()},children:"Continuer"})})]})},$=function(e,t){var n,r=new Set(e),a=Object(l.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;r.delete(i)}}catch(u){a.e(u)}finally{a.f()}var s=Array.from(r);return s[Math.floor(Math.random()*Math.floor(s.length))]},_=function(e){var t=e.timeRemaining,n=e.totalTime;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h5",{children:["Il reste ",t," secondes"]}),Object(a.jsx)(w.ProgressBar,{progress:Math.ceil((n-t)/n*100)})]})},ee=function(e){var t=e.game,n=(e.round,e.roundProgress),r=e.timeRemaining,s=e.setRoundProgress,u=Object(i.useState)($(T(k.PLACES),new Set(t.guessedWords()))),o=Object(p.a)(u,2),c=o[0],d=o[1],l=function(e){var n=$(T(k.PLACES),new Set(t.guessedWords().concat(e.attemptedWords.map((function(e){return e.word})))));d(n)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.Row,{children:Object(a.jsx)(_,{totalTime:t.roundLength,timeRemaining:r})}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(w.CardPanel,{className:"teal white-text hoverable",children:Object(a.jsx)("h4",{style:{padding:0,margin:0},children:c})})}),Object(a.jsxs)(w.Row,{children:[Object(a.jsx)(w.Button,{onClick:function(){var e=n.guessed(c);s(e),l(e)},children:"R\xe9ussi!"}),Object(a.jsx)(w.Button,{onClick:function(){var e=n.skipped(c);s(e),l(e)},style:{marginLeft:"10px"},className:"red",children:"Rejeter"})]})]})},te=function(e){var t=e.user,n=Object(O.i)().gameID,r=Object(i.useState)(null),s=Object(p.a)(r,2),u=s[0],o=s[1],c=Object(i.useState)(""),d=Object(p.a)(c,2),l=d[0],h=d[1];if(Object(i.useEffect)((function(){var e=C.subscribe(n,(function(e){e?o(e):h("Cette partie n'est plus disponible")}));return function(){e.off()}}),[n]),l)return Object(a.jsx)(O.a,{to:"/join?error=".concat(l)});if(u){if(u.isCompleted())return Object(a.jsx)(a.Fragment,{children:"C'est fini"});if(u.isStarted()){var j=u.playerByUid(t.uid),b=u.currentRound();return j?Object(a.jsx)(z,{round:b,game:u,player:j}):Object(a.jsx)(ne,{})}return Object(a.jsx)(G,{user:t,game:u})}return Object(a.jsx)(H,{})},ne=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"\u26a0\ufe0f"}),Object(a.jsx)(w.Row,{children:"D\xe9sol\xe9, tes amis de t'on pas attendu, la partie est d\xe9j\xe0 en cours."}),Object(a.jsx)(w.Row,{children:Object(a.jsx)(g.b,{to:"/home",children:"Retour"})})]})},re=function(){var e=Object(i.useState)(null),t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){c.a.auth().signInAnonymously().then((function(e){return r(e.user)}))}),[]),n?Object(a.jsx)(g.a,{children:Object(a.jsxs)(O.d,{children:[Object(a.jsx)(O.b,{path:"/join",render:function(e){return Object(a.jsx)(E,Object(d.a)(Object(d.a)({},e),{},{user:n}))}}),Object(a.jsx)(O.b,{path:"/host",render:function(e){return Object(a.jsx)(D,Object(d.a)(Object(d.a)({},e),{},{user:n}))}}),Object(a.jsx)(O.b,{path:"/game/:gameID",render:function(e){return Object(a.jsx)(te,Object(d.a)(Object(d.a)({},e),{},{user:n}))}}),Object(a.jsx)(O.b,{path:"/",component:q})]})}):Object(a.jsx)(H,{})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,123)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))};c.a.initializeApp({apiKey:"AIzaSyBElBT0EATGzckFNUZ69M-CKcIq0VynO08",authDomain:"justone-7ffe6.firebaseapp.com",projectId:"justone-7ffe6",storageBucket:"justone-7ffe6.appspot.com",databaseURL:"https://justone-7ffe6-default-rtdb.firebaseio.com/",messagingSenderId:"107210378075",appId:"1:107210378075:web:5ad604222f2ad1d8a2687e"}),o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(re,{})}),document.getElementById("app")),ae()},55:function(e,t,n){}},[[122,1,2]]]);
//# sourceMappingURL=main.a216b00c.chunk.js.map